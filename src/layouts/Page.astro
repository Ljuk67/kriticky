---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
// Fonts and global styles are loaded globally via BaseHead

interface Props {
  title?: string;
  description?: string;
  sectionClass?: string;
  wrap?: boolean; // if false, render slot directly under main
  mainClass?: string;
}

const {
  title,
  description,
  sectionClass = 'prose prose-lg max-w-none',
  wrap = true,
  mainClass = 'mx-auto max-w-4xl px-4 sm:px-6 lg:px-8',
}: Props & { sectionClass?: string; wrap?: boolean; mainClass?: string } = Astro.props;
const canonicalURL = new URL(Astro.url.pathname, Astro.site).toString();
const resolvedImageWithDomain = new URL(
  "/opengraph.jpg",
  Astro.site
).toString();
---

<!doctype html>
<html lang="sk">
  <head>
    <BaseHead title={title ?? ''} description={description ?? ''} />
  </head>
  <body>
    <Header />
    <main class={mainClass}>
      {wrap && (
        <section class={sectionClass}>
          {title && <h1>{title}</h1>}
          {description && <p class="page-description">{description}</p>}
          <slot />
        </section>
      )}
      {!wrap && <slot />}
    </main>
    <Footer />
    <style is:global>
      /* Improve Page speed */
      /* https://css-tricks.com/almanac/properties/c/content-visibility/ */
      img, svg {
        content-visibility: auto;
      }
    </style>
  </body>
</html>
